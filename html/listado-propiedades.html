<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ariel Sauret Propiedades</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="../css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="../css/mdb.min.css" rel="stylesheet">

  <style>
    html,
    body,
    header,
    .jarallax {
      height: 100%;
    }

    header {
      height: auto;
    }

    a {
      color: inherit;
    }
  </style>

</head>

<body class="architect">

  <!-- Navigation & Intro -->
  <header>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top scrolling-navbar">

        <div class="container">

          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
            aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">

            <span class="navbar-toggler-icon"></span>

          </button>

          <div class="collapse navbar-collapse" id="navbarTogglerDemo02">

            <ul class="navbar-nav mr-auto smooth-scroll">

              <li class="nav-item">

                <a class="nav-link" href="../index.html">Inicio<span class="sr-only">(current)</span></a>

              </li>

              <li class="nav-item">

                <a class="nav-link" href="/html/listado-propiedades.html" data-offset="90">Venta</a>

              </li>

              <li class="nav-item">

                <a class="nav-link" href="/html/contacto.html#contacto" data-offset="100">Contacto</a>

              </li>

            </ul>

            <!-- Social Icon  -->
            <ul class="navbar-nav nav-flex-icons">

              <li class="nav-item">

                <a class="nav-link"><i class="fab fa-facebook-f"></i></a>

              </li>

              <li class="nav-item">

                <a class="nav-link"><i class="fab fa-twitter"></i></a>

              </li>

              <li class="nav-item">

                <a class="nav-link"><i class="fab fa-instagram"></i></a>

              </li>

            </ul>

          </div>

        </div>

    </nav>
      
  </header>
  <!-- Navigation & Intro -->
    
  <!-- Main layout -->
  <main>

    <div class="container-fluid mt-4">

        <!-- Listado Propiedades -->
        <section id="propiedades" class="section pt-2 pb-5">
          <!-- VUE -->
            <div id="app">

              <!-- Lista Propiedades -->
              <div v-if="mostrarPropiedades == true">
                <!-- Contenido -->
                <div class="container-fluid ml-2 pt-3">

                  <h5 class="text-left black-text mb-3 mt-5 wow fadeIn"
                  data-wow-delay="0.2s">{{propiedadesEncontradas}}</h5>
                </div>
      
                <div>
                    <div class="container row mx-auto">
                        
                      <!--Dropdown barrio-->
                      <div class="dropdown col-md-4">
                      
                        <!--Trigger-->
                        <button class="container-fluid btn btn-primary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">{{barrioSeleccionado}}</button>
                        
                        <!--Menu-->
                        <div class="container-fluid dropdown-menu dropdown-primary">
                          <a class="dropdown-item" v-for="barrio in barrios" @click="barrioSeleccionado = barrio">{{barrio}}</a>
                        </div>
                      </div>
                      <!--/Dropdown barrio-->

                      <!--Dropdown Tipo Propiedad -->
                      <div class="dropdown col-md-4">
                      
                          <!--Trigger-->
                          <button class="container-fluid btn btn-primary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">{{tipoPropiedadSeleccionada}}</button>
                          
                          <!--Menu-->
                          <div class="container-fluid dropdown-menu dropdown-primary">
                            <a class="dropdown-item" v-for="tipoPropiedad in tipoPropiedades"
                              :tipoPropiedadSeleccionado="tipoPropiedad" @click="tipoPropiedadSeleccionada = tipoPropiedad">{{tipoPropiedad}}</a>
                          </div>
                      </div>
                      <!--/Dropdown Tipo Propiedad -->
                      <div class="col-md-4">
                        <button class="btn btn-danger align-right" type="button" aria-haspopup="true" aria-expanded="false"
                        @click="reiniciar">REINICIAR</button>
                      </div>                      

                        
                    </div>
                    <div class="row no-gutters">
                      <a class="card col-xl-2 col-lg-3 col-md-3 col-sm-5 mx-2 my-2 text-center" @click="actualizarPropiedad(propiedad)"
                                                                                        v-for="propiedad in propiedadesComputadas">
                        <div class="view">
                          <!-- Card image -->
                          <img v-bind:src="propiedad.imagen" alt="Card image cap" class="card-img-top">
                          <!-- Vendido -->
                          <div v-if="propiedad.vendido === true" class="mask flex-center rgba-red-light">
                              <p class="h3 white-text"><strong>Vendido</strong></p>
                          </div>
                          <!-- Vendido -->
                        </div>
                        <div class="card-body">
                          <p class="h5">{{propiedad.direccion}}</p>
                          <p class="h6">{{propiedad.tipo}} - {{propiedad.barrio}}</p>
                          <p class="h5 ">USD ${{propiedad.valor}} - Venta</p>
                          <span class="badge badge-pill badge-light m-1" v-for="etiqueta in propiedad.etiquetas">
                            {{etiqueta}}</span>
                        </div>
                      </a>
                      <div class="mx-5 my-5" v-if="propiedadesComputadas.length === 0">
                          <h1 class="font-weight-bold">{{mensajeNoSeEncontro}}</h1>
                      </div>
                    </div>
                </div>
              </div>
              <!-- Lista Propiedades -->


              <!-- Detalle Propiedad -->
              <div v-else>
                <div class="container-fluid" style="background-color: whitesmoke;">
                    <div class="row mt-5 pt-5"> 
              
                      <div class="col-md-5">
                        <div class="card px-2 py-2">
                          <section id="layout-carousel" class="carousel slide" data-ride="carousel">
                          <section class="carousel-inner">
                            <div class="carousel-item active">
                              <img class="img-fluid d-block " src="../img/as-prop/propiedades/001/casa.jose.001.jpg" alt="Carousel 1">
                            </div>
                            <div class="carousel-item">
                              <img class="img-fluid d-block" src="../img/as-prop/propiedades/001/casa.jose.002.jpg" alt="Carousel 2">
                            </div>
                            <div class="carousel-item">
                              <img class="img-fluid d-block" src="../img/as-prop/propiedades/001/casa.jose.003.jpg" alt="Carousel 3">
                            </div>
                          </section>
                          </section>
                        </div>
              
                        <a class="carousel-control-prev" href="#layout-carousel" role="button" data-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="sr-only">Anterior</span>
                        </a>
                        <a class="carousel-control-next" href="#layout-carousel" role="button" data-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="sr-only">Siguiente</span>
                        </a>
              
                      </div>
                        
                        <div class="col-md-5">
                          <div class="card px-3 py-2">
                            <h4 class="font-weight-light">{{propiedadSeleccionada.barrio}}, {{propiedadSeleccionada.zona}}</h4>
                            <h3 class="font-weight-bold">{{propiedadSeleccionada.direccion}}</h3>
                            <hr class="red title-hr">
                            <div class="d-flex">
                              <div class="col-md-6 px-0">
                                <h5 class="font-weight-light">{{propiedadSeleccionada.tipo}}</h5>
                                <h3 class="font-weight-bold">Venta</h3>
                              </div>
                              <div class="col-md-6">
                                <h5 class="font-weight-light text-md-right">Valor</h5>
                                <h3 class="font-weight-bold text-md-right">USD ${{propiedadSeleccionada.valor}}</h3>
                              </div>
                            </div>
                            <hr class="red title-hr">
                            <div class="d-flex justify-content-center mt-3 mb-2">
                              <h4><span class="badge badge-pill badge-primary m-1" v-for="etiqueta in propiedadSeleccionada.etiquetas">
                                {{etiqueta}}</span></h4>
                            </div>
                            
                          </div>
                        </div>
                      </div>
              
                      <div class="row">
                        <div class="col-md-8">
                          <div class="card my-2 px-3 py-2">
                            <h4 class="font-weight-bold">Descripción</h4>
                            <div>
                              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ratione culpa voluptate officia, qui doloribus vitae necessitatibus. Pariatur ipsum reprehenderit, dolore, alias architecto modi consequuntur, minima exercitationem accusantium quisquam quo soluta.
                            </div>
                          </div>
                        </div>
              
                        <div class="col-md-4 my-2">
                          <div class="card px-3 py-2">
                            <h5 class="text-center">Consultas</h5>
                            <div class="row mx-auto white-text">
                              <button class="btn red">Llamar</button>
                              <button class="btn green">Whatsapp</button>
                            </div>
              
                          </div>
                        </div>
              
                      </div>
              
                      <button class="btn white" @click="mostrarPropiedades = true">VOLVER</button>
                </div>
              <!-- Detalle Propiedad -->
                
              </div>

            </div>      
          <!-- VUE -->
        </section>
        <!-- Listado Propiedades -->

    
    </div>
    <!-- Contenido -->

  </main>
  <!-- Main layout -->

  <!-- Footer -->
  <footer class="page-footer text-center text-md-left mt-5  elegant-color-dark">

    <!-- Footer Links -->
    <div class="container mb-2">

      <!-- First row -->
      <div class="row">

        <!-- First column -->
        <div class="col-md-12 my-4 wow fadeIn" data-wow-delay="0.3s">

          <div class="footer-socials flex-center">

            <!-- Facebook -->
            <a type="button" class="btn-floating btn-secondary"><i class="fab fa-facebook-f"></i></a>

            <!-- Twitter -->
            <a type="button" class="btn-floating btn-secondary"><i class="fab fa-twitter"></i></a>

            <!-- Pinterest -->
            <a type="button" class="btn-floating btn-secondary"><i class="fab fa-pinterest-p"></i></a>

            <!-- Youtube -->
            <a type="button" class="btn-floating btn-secondary"><i class="fab fa-youtube"></i></a>

            <!-- Instagram -->
            <a type="button" class="btn-floating btn-secondary"><i class="fab fa-instagram"></i></a>

          </div>

        </div>
        <!-- First column -->

      </div>
      <!-- First row -->

    </div>
    <!-- Footer Links -->

    <!-- Copyright -->
    <div class="footer-copyright py-3 text-center">

      <div class="container-fluid">

        © 2019 Copyright: AS Propiedades

      </div>

    </div>
    <!-- Copyright -->

  </footer>
  <!-- Footer -->

  <!-- SCRIPTS -->
  <!-- JQuery -->
  <script type="text/javascript " src="../js/jquery-3.4.1.min.js "></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript " src="../js/popper.min.js "></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript " src="../js/bootstrap.min.js "></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript " src="../js/mdb.min.js "></script>

  <!-- VUE.JS -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <!-- Propiedades -->
  <script src="/js/propiedades.js"></script>

  <script>

    let vm = new Vue({
      el: '#app',
      data: {
        mostrarPropiedades: true,
        propiedadSeleccionada: null,
        barrioSeleccionado: 'Todos los barrios',
        tipoPropiedadSeleccionada: 'Todas las propiedades',
        propiedades: propiedades,
        barrios: ['Todos los barrios', 'Palomar', 'Villa Bosch', 'Moron', 'Ballester'],
        tipoPropiedades: ['Todas las propiedades','Chalet', 'Casa', 'PH', 'Departamento'],
      },
      computed: {
        propiedadesComputadas: function() {
          let filtroPropiedad = this.tipoPropiedadSeleccionada,
              filtroBarrio = this.barrioSeleccionado

          return this.propiedades.filter(function(propiedad){

            let filtrado = true
            if(filtroBarrio != 'Todos los barrios') {
              filtrado = propiedad.barrio === filtroBarrio
            }
            if(filtrado){
              if(filtroPropiedad != 'Todas las propiedades') {
                filtrado = propiedad.tipo === filtroPropiedad
              }
            }
              return filtrado
            })
         },
         mensajeNoSeEncontro: function() {
           return 'No se encontro ' + this.tipoPropiedadSeleccionada + ' en ' + this.barrioSeleccionado;
         },
         propiedadesEncontradas: function() {
          let cantidad = this.propiedadesComputadas.length 
          return cantidad == 1 ? cantidad + ' propiedad encontrada' :
                 cantidad + ' propiedades encontradas';
         }
      },
      methods: {
        reiniciar: function() {
          this.barrioSeleccionado = 'Todos los barrios'
          this.tipoPropiedadSeleccionada = 'Todas las propiedades'
        },
        actualizarPropiedad: function(propiedad) {
          this.propiedadSeleccionada = propiedad;
          this.mostrarPropiedades = false;
        }
      }
    });
  </script>

  <script>
    //Animation init
    new WOW().init();

    // initialize scrollspy
    $('body').scrollspy({

      target: '.dotted-scrollspy'
    });

    // initialize lightbox
    $(function () {

      $("#mdb-lightbox-ui").load("../mdb-addons/mdb-lightbox-ui.html");
    });

    $('.navbar-collapse a').click(function () {

      $(".navbar-collapse").collapse('hide');
    });

    $('.carousel').carousel({
      interval: false
    })

  </script>

</body>

</html>
